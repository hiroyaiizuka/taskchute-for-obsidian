# TaskChute Plus Plugin

Obsidian用のタスク管理・時間計測プラグインです。タスクの開始・終了時刻を記録し、完了時に豪華な演出でユーザーを称えます。

## 機能

### 基本機能
- **タスク管理**: `#task`タグの付いたノートを自動検出
- **時間計測**: タスクの開始・終了時刻を記録
- **ルーチンタスク**: 定期的に実行するタスクを設定可能
- **時間帯管理**: タスクを時間帯別に整理
- **ドラッグ&ドロップ**: タスクを時間帯間で移動可能

### 完了演出機能 🎉
全てのタスクを完了すると、以下の演出が表示されます：

#### 視覚効果
- **花火エフェクト**: カラフルな花火が画面全体に表示
- **紙吹雪エフェクト**: 色とりどりの紙吹雪が降り注ぐ
- **パーティクル効果**: 花火から飛び散る粒子
- **グラデーション背景**: 美しいグラデーション背景
- **アニメーション**: スムーズなアニメーション効果

#### 音効果
- **成功メロディー**: 完了時に音楽が再生（C-E-G-Cの和音）
- **Web Audio API**: ブラウザ標準の音声機能を使用

#### 統計表示
- **完了タスク数**: その日に完了したタスクの数
- **総作業時間**: 全てのタスクの合計作業時間

## 設定

プラグインの設定で以下の項目をカスタマイズできます：

- **完了演出**: 演出全体の有効/無効
- **音効果**: 音の有効/無効
- **花火エフェクト**: 花火の有効/無効
- **紙吹雪エフェクト**: 紙吹雪の有効/無効

### 設定方法
1. Obsidianの設定を開く
2. コミュニティプラグイン → TaskChute Plus
3. 設定タブで各項目を調整

## 使用方法

### タスクの作成
1. `06_Projects/Task/`フォルダにMarkdownファイルを作成
2. ファイルに`#task`タグを追加
3. 必要に応じて説明を記述

### ルーチンタスクの設定
1. タスクファイルのフロントマターに以下を追加：
```yaml
---
routine: true
開始時刻: "09:00"
---
```

### 時間計測
1. TaskChuteビューを開く
2. タスクの▶️ボタンをクリックして開始
3. ⏹ボタンをクリックして終了
4. 完了したタスクは☑️マークで表示

### Daily Review機能 🔍
TaskChuteのログデータを活用して、1日の振り返りを視覚化できます。

#### 必要なプラグイン
- **Dataview**: データの動的な読み込みと表示
- **Obsidian Charts**: グラフの描画

#### 表示される情報
1. **時間帯別の集中度・疲弊度グラフ**: 0-23時の推移を可視化
2. **タスクコメント一覧**: コメント付きタスクの詳細情報

#### 使用方法
1. `templates/daily-review-template.md`をテンプレートフォルダにコピー
2. Daily Noteにテンプレートを適用
3. グラフとコメント一覧が自動的に表示されます

詳細は[Daily Review使用方法](doc/daily-review-usage.md)を参照してください。

## 技術仕様

### 対応環境
- **Obsidian**: 0.12.0以上
- **プラットフォーム**: デスクトップ、モバイル対応
- **技術**: Electron、Web Audio API、CSS3アニメーション

### ファイル構造
```
.obsidian/plugins/taskchute-plus/
├── main.js          # メインプラグインコード
├── manifest.json    # プラグイン情報
└── README.md        # このファイル
```

### データ保存
- **実行履歴**: `07_Daily/YYYY-MM-DD.md`に保存
- **設定**: Obsidianのプラグイン設定に保存
- **実行中状態**: `.obsidian/plugins/taskchute-plus/data/running-task.json`

## カスタマイズ

### CSSカスタマイズ
プラグインのCSSは動的に生成されます。カスタマイズしたい場合は、ObsidianのカスタムCSSファイルに以下を追加：

```css
/* 演出の色を変更 */
.celebration-content {
  background: linear-gradient(135deg, #your-color1 0%, #your-color2 100%);
}

/* 花火の色を変更 */
.firework {
  background-color: #your-color;
}
```

## トラブルシューティング

### よくある問題

**Q: 演出が表示されない**
A: 設定で演出が無効になっていないか確認してください。

**Q: 音が鳴らない**
A: ブラウザの音声許可が必要です。また、設定で音効果が有効になっているか確認してください。

**Q: タスクが表示されない**
A: ファイルに`#task`タグが正しく記述されているか確認してください。

## 更新履歴

### v1.0.0
- 初期リリース
- 基本的なタスク管理機能
- 完了演出機能
- 設定機能

## ライセンス

MIT License

## 作者

Your Name

## サポート

問題や要望がある場合は、GitHubのIssuesページでお知らせください。
